(this["webpackJsonpok-news"]=this["webpackJsonpok-news"]||[]).push([[0],{20:function(e,t,a){e.exports=a.p+"static/media/oknews.156bbe16.png"},21:function(e,t,a){e.exports=a(52)},26:function(e,t,a){},46:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(19),s=a.n(r),l=(a(26),a(2)),i=a(7),o=a.n(i),u=a(9),m=a(6),d=a(8),f=a.n(d),g=a(3),w=(a(46),a(4)),b=function(e){try{return JSON.parse(e)}catch(t){return null}},E=function(e,t){e.forEach((function(e){g.a.to(e.current,1,{ease:"power1.inOut",opacity:0,height:0,minHeight:0,scale:.6,marginBottom:0,duration:1.3})}));var a=b(localStorage.getItem("dismissedNews"))||[];localStorage.setItem("dismissedNews",JSON.stringify(a.concat([t])))},p={ynet:"https://m.ynet.co.il/content/images/icons/site/big_ynet_logo.png?v=20200317",mako:"https://img.mako.co.il/2013/08/15/mako-logo_i.jpg",walla:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJgAAACYCAMAAAAvHNATAAAAZlBMVEUAmf////8Yk9YJmu1MgqUBmvwImu8CmvoSlt6Fj6EPmOIEm/Zhgp0tib69vMUOmOQijspUgaCOlaXr6u3W1Nnl4+dCgqwnjMTx8PA3hrXNyc/5+Plpg5x3iZ6nqbMVldmanqtFgqnuttmDAAACKklEQVR4nO2cWU4CURQFW6BpRhlERhHY/ybF4H8XHxavk1MrqEA8705YVSGEEEIIIfwz034rwxdoTb7eAOe+7dUjWncGstfwE4rNZLED9Hqby2JrKrZwvYbU6712xZZUbOt6VQMq1nO96iMVm7piC+r15XpVcyq2k8XQa/SL/CBNqde361VdqJgdFlsqdpHFvqHXvnG9+vQDW7le/D1aymIrKiaHRUNrxKvrVY3oB3aQxXDxOpLFaPH6WWpY2P1R98NC7sKbD+g1dr14WNgNJQ6LiSx2hV4buaHsfljIDWX3w+LseiUsnoaGxTFh8SBh8SQJi2cpNizozKLYsLi5XtWOitlhMaNiclhMT9DLDgu6CNTDAg845b1W/Q697LDA2xC7ssDbEHtmcaZicljg1ena9eJhYQ848epUHnDWG+hlb0Mm9AOz7yyKXZ2OqVjuLB7ghtIuXnFDKReveK9lv0fFVhZU7Kqf/qEH6TR4wUli/9JrYyLf8YQQQgihjWbR/oIv5Fr/Tj1Hve5aL3louW8POIudvOJOV17T4E7Xnrzib9LudG9UzF7T0Bn6Se5E8MLNHot1/+6v1CNhe4aOJ6/2DB1PXu0jYfoe2UfC+D3KLwr+wGsauUjEa5qExR+dD4uPUn9RUGxlYS/ccGUhL9yaPfSyF27FtiH4lEd+j/ApT7ELN/s9wrFvzyxu0Otqr7bgH+VY/w8g1Wg7aOVw8QeJIYQQQgghFMEPWsgfHu9VhuEAAAAASUVORK5CYII="},v=function(e){var t=e.uuid,a=e.title,r=e.link,s=e.source,l=e.dateTimestamp,i=Object(n.useRef)({}),o=Object(n.useRef)({}),u=Object(n.useCallback)((function(){window.open(r,"_blank")}),[r]),m=Object(n.useCallback)((function(e){E([o,i],{date:l,type:"news",id:t}),e.stopPropagation()}),[i,o,l,t]);return c.a.createElement("div",{className:"item news-item",ref:i,onClick:u},c.a.createElement("img",{className:"news-source-img ".concat(s),ref:o,src:p[s],alt:s}),c.a.createElement("span",{className:"text"},a),c.a.createElement("button",{className:"material-icons",type:"button",onClick:m},"cancel"))},h=(a(49),[{id:"news",url:["/mako?cat=news","/ynet?cat=news","/walla?cat=news"],label:"\u05db\u05dc\u05dc\u05d9"},{id:"sport",url:["/mako?cat=sport","/ynet?cat=sports","/walla?cat=sports"],label:"\u05e1\u05e4\u05d5\u05e8\u05d8"},{id:"tarbut",url:["/mako?cat=tarbut","/walla?cat=tarbut","/walla?cat=celebs"],label:"\u05ea\u05e8\u05d1\u05d5\u05ea"},{id:"tech",url:["/walla?cat=tech"],label:"\u05d8\u05db\u05e0\u05d5\u05dc\u05d5\u05d2\u05d9\u05d4"},{id:"fashion",url:["/mako?cat=fashion"],label:"\u05d0\u05d5\u05e4\u05e0\u05d4"}]),N=function(e){var t=e.selectedCategories,a=e.selectCategory,r=e.category,s=Object(n.useMemo)((function(){return t.find((function(e){return e.id===r.id}))}),[r,t]),l=Object(n.useCallback)((function(){a(r)}),[r,a]);return c.a.createElement("div",{className:"category-btn ".concat(s?"selected":""),onClick:l},c.a.createElement("span",{className:"material-icons"},s?"visibility":"visibility_off"),r.label)},O=function(e){var t=e.selectCategory,a=e.selectedCategories;return c.a.createElement("div",{className:"categories-view"},h.map((function(e){return c.a.createElement(N,{key:e.id,category:e,selectCategory:t,selectedCategories:a})})))},y=a(5),j=a.n(y),k=function(){return c.a.createElement("svg",{viewBox:"0 0 24 24",className:"cloud-img"},c.a.createElement("g",null,c.a.createElement("path",{d:"M14.046 2.242l-4.148-.01h-.002c-4.374 0-7.8 3.427-7.8 7.802 0 4.098 3.186 7.206 7.465 7.37v3.828c0 .108.044.286.12.403.142.225.384.347.632.347.138 0 .277-.038.402-.118.264-.168 6.473-4.14 8.088-5.506 1.902-1.61 3.04-3.97 3.043-6.312v-.017c-.006-4.367-3.43-7.787-7.8-7.788zm3.787 12.972c-1.134.96-4.862 3.405-6.772 4.643V16.67c0-.414-.335-.75-.75-.75h-.396c-3.66 0-6.318-2.476-6.318-5.886 0-3.534 2.768-6.302 6.3-6.302l4.147.01h.002c3.532 0 6.3 2.766 6.302 6.296-.003 1.91-.942 3.844-2.514 5.176z"})))},C=function(){return c.a.createElement("svg",{viewBox:"0 0 24 24",className:"retweet-icon"},c.a.createElement("g",null,c.a.createElement("path",{d:"M23.77 15.67c-.292-.293-.767-.293-1.06 0l-2.22 2.22V7.65c0-2.068-1.683-3.75-3.75-3.75h-5.85c-.414 0-.75.336-.75.75s.336.75.75.75h5.85c1.24 0 2.25 1.01 2.25 2.25v10.24l-2.22-2.22c-.293-.293-.768-.293-1.06 0s-.294.768 0 1.06l3.5 3.5c.145.147.337.22.53.22s.383-.072.53-.22l3.5-3.5c.294-.292.294-.767 0-1.06zm-10.66 3.28H7.26c-1.24 0-2.25-1.01-2.25-2.25V6.46l2.22 2.22c.148.147.34.22.532.22s.384-.073.53-.22c.293-.293.293-.768 0-1.06l-3.5-3.5c-.293-.294-.768-.294-1.06 0l-3.5 3.5c-.294.292-.294.767 0 1.06s.767.293 1.06 0l2.22-2.22V16.7c0 2.068 1.683 3.75 3.75 3.75h5.85c.414 0 .75-.336.75-.75s-.337-.75-.75-.75z"})))},A=function(){return c.a.createElement("svg",{viewBox:"0 0 24 24",className:"likes-icon"},c.a.createElement("g",null,c.a.createElement("path",{d:"M12 21.638h-.014C9.403 21.59 1.95 14.856 1.95 8.478c0-3.064 2.525-5.754 5.403-5.754 2.29 0 3.83 1.58 4.646 2.73.814-1.148 2.354-2.73 4.645-2.73 2.88 0 5.404 2.69 5.404 5.755 0 6.376-7.454 13.11-10.037 13.157H12zM7.354 4.225c-2.08 0-3.903 1.988-3.903 4.255 0 5.74 7.034 11.596 8.55 11.658 1.518-.062 8.55-5.917 8.55-11.658 0-2.267-1.823-4.255-3.903-4.255-2.528 0-3.94 2.936-3.952 2.965-.23.562-1.156.562-1.387 0-.014-.03-1.425-2.965-3.954-2.965z"})))},V=function(e){var t=e._id,a=e.content,r=e.creator,s=(e.date,e.dateTimestamp),l=(e.like,e.user_img),i=e.link,o=Object(n.useRef)({}),u=Object(n.useRef)({}),m=Object(n.useCallback)((function(){window.open(i,"_blank")}),[i]),d=Object(n.useCallback)((function(e){E([u,o],{date:s,type:"tweet",id:t}),e.stopPropagation()}),[o,u,s,t]);return c.a.createElement("div",{className:"item tweet-item",ref:o,onClick:m},c.a.createElement("div",{className:"tweet-item-body"},c.a.createElement("img",{className:"tweet-source-img",ref:u,src:l,alt:r}),c.a.createElement("div",{className:"tweet-content"},a),c.a.createElement("button",{className:"material-icons",type:"button",onClick:d},"cancel")),c.a.createElement("div",{className:"tweet-footer"},c.a.createElement("div",{className:"likes"},c.a.createElement("span",null,j()(12e3).format("0.[00]a")),c.a.createElement(A,null)),c.a.createElement("div",{className:"retweets"},c.a.createElement("span",null,j()(12313e3).format("0.[00]a")),c.a.createElement(C,null)),c.a.createElement("div",{className:"comments"},c.a.createElement("span",null,j()(131).format("0.[00]a")),c.a.createElement(k,null))))},x=function(e){var t=e.news;return Object(w.orderBy)(t,["dateTimestamp"],["desc"]).map((function(e){return"tweet"===e.type?c.a.createElement(V,Object.assign({key:e.uuid},e)):c.a.createElement(v,Object.assign({key:e.uuid},e))}))},U=function(e){var t=e.settingsView,a=Object(n.useState)([]),r=Object(l.a)(a,2),s=r[0],i=r[1],d=Object(n.useState)([h[0]]),E=Object(l.a)(d,2),p=E[0],v=E[1];Object(n.useEffect)((function(){"news"===t&&function(){var e,t,a,n;o.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,o.a.awrap(Promise.all([f.a.get("/tweets")].concat(Object(m.a)(Object(w.flatten)(p.map((function(e){return e.url.map((function(e){return f.a.get(e)}))})))))));case 3:e=c.sent,t=e[0].data.map((function(e){var t=new Date(e.date),a=e._id;return Object(u.a)({},e,{date:t,uuid:a,type:"tweet",dateTimestamp:t.getTime()})})),a=Object(w.flatten)(e.slice(1).map((function(e){return e.data}))).map((function(e){var t=new Date(e.publication_date);return Object(u.a)({},e,{publication_date:t,dateTimestamp:t.getTime()})})),n=b(localStorage.getItem("dismissedNews"))||[],i([].concat(Object(m.a)(t),Object(m.a)(a)).filter((function(e){return!n.some((function(t){return t.id===e.uuid}))}))),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(0),console.error(c.t0);case 13:case"end":return c.stop()}}),null,null,[[0,10]])}()}),[t,p]);var N=Object(n.useCallback)((function(e){v((function(t){return t.find((function(t){return t.id===e.id}))?t.filter((function(t){return t.id!==e.id})):t.concat(e)}))}),[]);Object(n.useEffect)((function(){g.a.from(".item",{opacity:.6,scale:.8,duration:.7,ease:"elastic.out(1, 0.85)",stagger:{each:.1,y:30}})}),[s]);var y=Object(n.useMemo)((function(){switch(t){case"news":return c.a.createElement(x,{news:s});case"filters":return c.a.createElement(O,{selectedCategories:p,selectCategory:N});default:return c.a.createElement(x,{news:s})}}),[t,s,N,p]);return c.a.createElement("div",{className:"news-runner"},c.a.createElement("div",{className:"news-runner-container"},c.a.createElement("div",{className:"runner-wrapper"},y)))},D=(a(50),a(51),a(20)),H=a.n(D),S={0:" \u05e8\u05d0\u05e9\u05d5\u05df",1:" \u05e9\u05e0\u05d9",2:" \u05e9\u05dc\u05d9\u05e9\u05d9",3:" \u05e8\u05d1\u05d9\u05e2\u05d9",4:" \u05d7\u05de\u05d9\u05e9\u05d9",5:" \u05e9\u05d9\u05e9\u05d9",6:" \u05e9\u05d1\u05ea"},M=function(){var e=new Date;return c.a.createElement("div",{className:"app-header"},c.a.createElement("div",{className:"date"},"\u05d9\u05d5\u05dd","".concat(S[e.getDay()])),c.a.createElement("img",{src:H.a,className:"logo",alt:"logo"}),c.a.createElement("div",{className:"desc"},"\u05db\u05dc \u05d4\u05d7\u05d3\u05e9\u05d5\u05ea, \u05d1\u05de\u05e7\u05d5\u05dd \u05d0\u05d7\u05d3."))},q=function(e){var t=e.settingsView,a=e.setSettingsView;return c.a.createElement("div",{className:"footer"},c.a.createElement("div",{className:"footer-relative"},c.a.createElement("div",{className:"settings-button ".concat("news"===t?"selected":""),onClick:function(){return a("news")}},"\u05d7\u05d3\u05e9\u05d5\u05ea"),c.a.createElement("div",{className:"settings-button ".concat("filters"===t?"selected":""),onClick:function(){return a("filters")}},"\u05e1\u05e0\u05df \u05ea\u05d5\u05db\u05df"),c.a.createElement("div",{className:"settings-button ".concat("contact"===t?"selected":""),onClick:function(){return a("contact")}},"\u05e6\u05d5\u05e8 \u05e7\u05e9\u05e8")))},Q=function(){var e=Object(n.useState)("news"),t=Object(l.a)(e,2),a=t[0],r=t[1];return c.a.createElement("div",{className:"news-page"},c.a.createElement(M,null),c.a.createElement(U,{settingsView:a}),c.a.createElement(q,{settingsView:a,setSettingsView:r}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[21,1,2]]]);
//# sourceMappingURL=main.4100cf91.chunk.js.map