(this["webpackJsonpok-news"]=this["webpackJsonpok-news"]||[]).push([[0],{17:function(e,t,n){e.exports=n.p+"static/media/oknews.156bbe16.png"},19:function(e,t,n){e.exports=n(50)},24:function(e,t,n){},44:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(15),s=n.n(r),i=(n(24),n(2)),o=n(5),l=n.n(o),u=n(18),m=n(16),f=n.n(m),d=n(3),g=(n(44),n(4)),p={ynet:"https://m.ynet.co.il/content/images/icons/site/big_ynet_logo.png?v=20200317",mako:"https://img.mako.co.il/2013/08/15/mako-logo_i.jpg"},b=function(e){var t=e.title,n=e.link,r=e.source,s=Object(a.useRef)({}),i=Object(a.useRef)({}),o=Object(a.useCallback)((function(){window.open(n,"_blank")}),[n]),l=Object(a.useCallback)((function(e){e.stopPropagation(),d.a.to(i.current,1,{ease:"power1.inOut",opacity:0,height:0,scale:.6,marginBottom:0,duration:2}),d.a.to(s.current,1,{ease:"power1.inOut",opacity:0,height:0,scale:.6,marginBottom:0,duration:2})}),[s]);return c.a.createElement("div",{className:"news-item",ref:s,onClick:o},c.a.createElement("img",{className:"news-source-img ".concat(r),ref:i,src:p[r],alt:r}),c.a.createElement("span",{className:"text"},t),c.a.createElement("span",{className:"material-icons",onClick:l},"cancel"))},w=(n(47),[{id:"news",url:["/mako?cat=news","/ynet?cat=news"],label:"\u05db\u05dc\u05dc\u05d9"},{id:"sport",url:["/mako?cat=sport","/ynet?cat=sports"],label:"\u05e1\u05e4\u05d5\u05e8\u05d8"},{id:"tarbut",url:["/mako?cat=tarbut"],label:"\u05ea\u05e8\u05d1\u05d5\u05ea"},{id:"fashion",url:["/mako?cat=fashion"],label:"\u05d0\u05d5\u05e4\u05e0\u05d4"}]),v=function(e){var t=e.selectedCategories,n=e.selectCategory,r=e.category,s=Object(a.useMemo)((function(){return t.find((function(e){return e.id===r.id}))}),[r,t]),i=Object(a.useCallback)((function(){n(r)}),[r,n]);return c.a.createElement("div",{className:"category-btn ".concat(s?"selected":""),onClick:i},c.a.createElement("span",{className:"material-icons"},s?"visibility":"visibility_off"),r.label)},E=function(e){var t=e.selectCategory,n=e.selectedCategories;return c.a.createElement("div",{className:"categories-view"},w.map((function(e){return c.a.createElement(v,{key:e.id,category:e,selectCategory:t,selectedCategories:n})})))},k=function(e){return e.news.map((function(e){return c.a.createElement(b,Object.assign({key:e.id||e.link.slice(50)},e))}))},y=function(e){var t=e.settingsView,n=Object(a.useState)([]),r=Object(i.a)(n,2),s=r[0],o=r[1],m=Object(a.useState)([w[0]]),p=Object(i.a)(m,2),b=p[0],v=p[1];Object(a.useEffect)((function(){"news"===t&&function(){var e,t;l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,l.a.awrap(Promise.all(Object(g.flatten)(b.map((function(e){return e.url.map((function(e){return f.a.get(e)}))})))));case 3:e=n.sent,t=Object(g.flatten)(e.map((function(e){return e.data}))).map((function(e){var t=new Date(e.publication_date);return Object(u.a)({},e,{publication_date:t,dateTimestamp:t.getTime()})})),console.log(t),o(Object(g.orderBy)(t,["dateTimestamp"],["desc"])),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.error(n.t0);case 12:case"end":return n.stop()}}),null,null,[[0,9]])}()}),[t,b]);var y=Object(a.useCallback)((function(e){v((function(t){return t.find((function(t){return t.id===e.id}))?t.filter((function(t){return t.id!==e.id})):t.concat(e)}))}),[]);Object(a.useEffect)((function(){d.a.from(".news-item",1,{ease:"power1.inOut",opacity:0,scale:.6,duration:2,stagger:{each:.1,y:-100}})}),[s]);var O=Object(a.useMemo)((function(){switch(t){case"news":return c.a.createElement(k,{news:s});case"filters":return c.a.createElement(E,{selectedCategories:b,selectCategory:y});default:return c.a.createElement(k,{news:s})}}),[t,s,y,b]);return c.a.createElement("div",{className:"news-runner"},c.a.createElement("div",{className:"news-runner-container"},c.a.createElement("div",{className:"runner-wrapper"},O)))},O=(n(48),n(49),n(17)),h=n.n(O),j={0:" \u05e8\u05d0\u05e9\u05d5\u05df",1:" \u05e9\u05e0\u05d9",2:" \u05e9\u05dc\u05d9\u05e9\u05d9",3:" \u05e8\u05d1\u05d9\u05e2\u05d9",4:" \u05d7\u05de\u05d9\u05e9\u05d9",5:" \u05e9\u05d9\u05e9\u05d9",6:" \u05e9\u05d1\u05ea"},N=function(){var e=new Date;return c.a.createElement("div",{className:"app-header"},c.a.createElement("div",{className:"date"},"\u05d9\u05d5\u05dd","".concat(j[e.getDay()])),c.a.createElement("img",{src:h.a,className:"logo",alt:"logo"}),c.a.createElement("div",{className:"desc"},"\u05db\u05dc \u05d4\u05d7\u05d3\u05e9\u05d5\u05ea, \u05d1\u05de\u05e7\u05d5\u05dd \u05d0\u05d7\u05d3."))},C=function(e){var t=e.settingsView,n=e.setSettingsView;return c.a.createElement("div",{className:"footer"},c.a.createElement("div",{className:"footer-relative"},c.a.createElement("div",{className:"settings-button ".concat("news"===t?"selected":""),onClick:function(){return n("news")}},"\u05d7\u05d3\u05e9\u05d5\u05ea"),c.a.createElement("div",{className:"settings-button ".concat("filters"===t?"selected":""),onClick:function(){return n("filters")}},"\u05e1\u05e0\u05df \u05ea\u05d5\u05db\u05df"),c.a.createElement("div",{className:"settings-button ".concat("contact"===t?"selected":""),onClick:function(){return n("contact")}},"\u05e6\u05d5\u05e8 \u05e7\u05e9\u05e8")))},_=function(){var e=Object(a.useState)("news"),t=Object(i.a)(e,2),n=t[0],r=t[1];return c.a.createElement("div",{className:"news-page"},c.a.createElement(N,null),c.a.createElement(y,{settingsView:n}),c.a.createElement(C,{settingsView:n,setSettingsView:r}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[19,1,2]]]);
//# sourceMappingURL=main.9a0ef616.chunk.js.map